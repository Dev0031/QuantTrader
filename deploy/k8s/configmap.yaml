apiVersion: v1
kind: ConfigMap
metadata:
  name: quanttrader-config
  namespace: quanttrader
  labels:
    app.kubernetes.io/name: quanttrader
    app.kubernetes.io/part-of: quanttrader
data:
  # Database
  ConnectionStrings__DefaultConnection: "Host=postgres-svc;Port=5432;Database=quanttrader;Username=quanttrader;Password=REPLACE_VIA_SECRET;SSL Mode=Prefer"
  ConnectionStrings__TimescaleDb: "Host=postgres-svc;Port=5432;Database=quanttrader;Username=quanttrader;Password=REPLACE_VIA_SECRET;SSL Mode=Prefer"

  # Redis
  Redis__ConnectionString: "redis-svc:6379,abortConnect=false,connectTimeout=5000"
  Redis__InstanceName: "quanttrader:"

  # RabbitMQ
  RabbitMq__Host: "rabbitmq-svc"
  RabbitMq__Port: "5672"
  RabbitMq__VirtualHost: "/"
  RabbitMq__Username: "quanttrader"

  # Service discovery (internal Kubernetes DNS)
  Services__DataIngestion: "http://data-ingestion-svc:8080"
  Services__StrategyEngine: "http://strategy-engine-svc:8080"
  Services__RiskManager: "http://risk-manager-svc:8080"
  Services__ExecutionEngine: "http://execution-engine-svc:8080"
  Services__ApiGateway: "http://api-gateway-svc:8080"

  # Observability
  Prometheus__Enabled: "true"
  Logging__LogLevel__Default: "Information"
  Logging__LogLevel__Microsoft: "Warning"
  Logging__LogLevel__System: "Warning"

  # ASP.NET
  ASPNETCORE_ENVIRONMENT: "Production"
  ASPNETCORE_URLS: "http://+:8080"
  DOTNET_EnableDiagnostics: "0"
